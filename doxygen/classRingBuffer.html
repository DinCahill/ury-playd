<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>URY playd: RingBuffer&lt; RepT, SampleCountT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">URY playd
   </div>
   <div id="projectbrief">C++ minimalist audio player</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classRingBuffer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classRingBuffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RingBuffer&lt; RepT, SampleCountT &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A ring buffer.  
 <a href="classRingBuffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ringbuffer_8hpp_source.html">ringbuffer.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2f831ec4941885db960a833cb807465e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#a2f831ec4941885db960a833cb807465e">RingBuffer</a> (int power, int size)</td></tr>
<tr class="memdesc:a2f831ec4941885db960a833cb807465e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classRingBuffer.html" title="A ring buffer. ">RingBuffer</a>.  <a href="#a2f831ec4941885db960a833cb807465e">More...</a><br /></td></tr>
<tr class="separator:a2f831ec4941885db960a833cb807465e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d93b7f608eb69a7a569e61b5abc979"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39d93b7f608eb69a7a569e61b5abc979"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#a39d93b7f608eb69a7a569e61b5abc979">~RingBuffer</a> ()</td></tr>
<tr class="memdesc:a39d93b7f608eb69a7a569e61b5abc979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructs a PaRingBuffer. <br /></td></tr>
<tr class="separator:a39d93b7f608eb69a7a569e61b5abc979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e7e006ded5d4aad8b37ee7bea8f90d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a16e7e006ded5d4aad8b37ee7bea8f90d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#a16e7e006ded5d4aad8b37ee7bea8f90d">RingBuffer</a> (const <a class="el" href="classRingBuffer.html">RingBuffer</a> &amp;)=delete</td></tr>
<tr class="memdesc:a16e7e006ded5d4aad8b37ee7bea8f90d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy constructor. <br /></td></tr>
<tr class="separator:a16e7e006ded5d4aad8b37ee7bea8f90d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f552e291e577aeffc57b846969d11d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f552e291e577aeffc57b846969d11d6"></a>
<a class="el" href="classRingBuffer.html">RingBuffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#a6f552e291e577aeffc57b846969d11d6">operator=</a> (const <a class="el" href="classRingBuffer.html">RingBuffer</a> &amp;)=delete</td></tr>
<tr class="memdesc:a6f552e291e577aeffc57b846969d11d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy-assignment. <br /></td></tr>
<tr class="separator:a6f552e291e577aeffc57b846969d11d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00617ab6e379ad146cb7b80079f4c4c"><td class="memItemLeft" align="right" valign="top">SampleCountT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#ab00617ab6e379ad146cb7b80079f4c4c">WriteCapacity</a> () const </td></tr>
<tr class="memdesc:ab00617ab6e379ad146cb7b80079f4c4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current write capacity.  <a href="#ab00617ab6e379ad146cb7b80079f4c4c">More...</a><br /></td></tr>
<tr class="separator:ab00617ab6e379ad146cb7b80079f4c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7086cc66306105db205842af7a88c2d8"><td class="memItemLeft" align="right" valign="top">SampleCountT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#a7086cc66306105db205842af7a88c2d8">ReadCapacity</a> () const </td></tr>
<tr class="memdesc:a7086cc66306105db205842af7a88c2d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current read capacity.  <a href="#a7086cc66306105db205842af7a88c2d8">More...</a><br /></td></tr>
<tr class="separator:a7086cc66306105db205842af7a88c2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f863968cb641946b0cf341bda11e16"><td class="memItemLeft" align="right" valign="top">SampleCountT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#aa7f863968cb641946b0cf341bda11e16">Write</a> (RepT *start, SampleCountT count)</td></tr>
<tr class="memdesc:aa7f863968cb641946b0cf341bda11e16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes samples from an array into the ring buffer.  <a href="#aa7f863968cb641946b0cf341bda11e16">More...</a><br /></td></tr>
<tr class="separator:aa7f863968cb641946b0cf341bda11e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af892330ee102bd50a493b8afa814a0f0"><td class="memItemLeft" align="right" valign="top">SampleCountT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#af892330ee102bd50a493b8afa814a0f0">Read</a> (RepT *start, SampleCountT count)</td></tr>
<tr class="memdesc:af892330ee102bd50a493b8afa814a0f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads samples from the ring buffer into an array.  <a href="#af892330ee102bd50a493b8afa814a0f0">More...</a><br /></td></tr>
<tr class="separator:af892330ee102bd50a493b8afa814a0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb1acca6905e7678fbbdb70238cdc26"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1eb1acca6905e7678fbbdb70238cdc26"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#a1eb1acca6905e7678fbbdb70238cdc26">Flush</a> ()</td></tr>
<tr class="memdesc:a1eb1acca6905e7678fbbdb70238cdc26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empties the ring buffer. <br /></td></tr>
<tr class="separator:a1eb1acca6905e7678fbbdb70238cdc26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae907c82ba714a087d9f35b089f9fbf77"><td class="memItemLeft" align="right" valign="top">SampleCountT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#ae907c82ba714a087d9f35b089f9fbf77">CountCast</a> (ring_buffer_size_t count) const </td></tr>
<tr class="memdesc:ae907c82ba714a087d9f35b089f9fbf77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a ring buffer size into an external size.  <a href="#ae907c82ba714a087d9f35b089f9fbf77">More...</a><br /></td></tr>
<tr class="separator:ae907c82ba714a087d9f35b089f9fbf77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a09103853af3302b27d2bbd46f1dfbe87"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a09103853af3302b27d2bbd46f1dfbe87"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#a09103853af3302b27d2bbd46f1dfbe87">buffer</a></td></tr>
<tr class="memdesc:a09103853af3302b27d2bbd46f1dfbe87"><td class="mdescLeft">&#160;</td><td class="mdescRight">The array used by the ringbuffer. <br /></td></tr>
<tr class="separator:a09103853af3302b27d2bbd46f1dfbe87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10985ec171bcc15c1301dc74fcb6e7b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10985ec171bcc15c1301dc74fcb6e7b2"></a>
PaUtilRingBuffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">rb</a></td></tr>
<tr class="memdesc:a10985ec171bcc15c1301dc74fcb6e7b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The internal PortAudio ringbuffer. <br /></td></tr>
<tr class="separator:a10985ec171bcc15c1301dc74fcb6e7b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename RepT, typename SampleCountT&gt;<br />
class RingBuffer&lt; RepT, SampleCountT &gt;</h3>

<p>A ring buffer. </p>
<p>This ring buffer is based on the PortAudio ring buffer, provided in the contrib/ directory. This is stable and performs well, but, as it is C code, necessitates some hoop jumping to integrate and could do with being replaced with a native solution. </p>

<p>Definition at line <a class="el" href="ringbuffer_8hpp_source.html#l00030">30</a> of file <a class="el" href="ringbuffer_8hpp_source.html">ringbuffer.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2f831ec4941885db960a833cb807465e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename RepT, typename SampleCountT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRingBuffer.html">RingBuffer</a>&lt; RepT, SampleCountT &gt;::<a class="el" href="classRingBuffer.html">RingBuffer</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>power</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classRingBuffer.html" title="A ring buffer. ">RingBuffer</a>. </p>
<ul>
<li>Precondition: 0 &lt; power, 0 &lt; size.</li>
<li>Postcondition: The <a class="el" href="classRingBuffer.html" title="A ring buffer. ">RingBuffer</a> is fully initialised.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">power</td><td>n, where 2^n is the number of elements in the ring buffer. </td></tr>
    <tr><td class="paramname">size</td><td>The size of one element in the ring buffer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ringbuffer_8hpp_source.html#l00042">42</a> of file <a class="el" href="ringbuffer_8hpp_source.html">ringbuffer.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        assert(0 &lt; power);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        assert(0 &lt; size);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        this-&gt;<a class="code" href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">rb</a> = <span class="keyword">new</span> PaUtilRingBuffer;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        this-&gt;<a class="code" href="classRingBuffer.html#a09103853af3302b27d2bbd46f1dfbe87">buffer</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[(1 &lt;&lt; power) * size];</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordtype">int</span> init_result = PaUtil_InitializeRingBuffer(</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                        this-&gt;<a class="code" href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">rb</a>, size,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                        static_cast&lt;ring_buffer_size_t&gt;(1 &lt;&lt; power),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                        this-&gt;<a class="code" href="classRingBuffer.html#a09103853af3302b27d2bbd46f1dfbe87">buffer</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">if</span> (init_result != 0) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classInternalError.html">InternalError</a>(<a class="code" href="messages_8h.html#a3bf0477dded19418d7ecac95aeae8856">MSG_OUTPUT_RINGINIT</a>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        assert(this-&gt;<a class="code" href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">rb</a> != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        assert(this-&gt;<a class="code" href="classRingBuffer.html#a09103853af3302b27d2bbd46f1dfbe87">buffer</a> != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="ttc" id="classRingBuffer_html_a10985ec171bcc15c1301dc74fcb6e7b2"><div class="ttname"><a href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">RingBuffer::rb</a></div><div class="ttdeci">PaUtilRingBuffer * rb</div><div class="ttdoc">The internal PortAudio ringbuffer. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00167">ringbuffer.hpp:167</a></div></div>
<div class="ttc" id="classRingBuffer_html_a09103853af3302b27d2bbd46f1dfbe87"><div class="ttname"><a href="classRingBuffer.html#a09103853af3302b27d2bbd46f1dfbe87">RingBuffer::buffer</a></div><div class="ttdeci">char * buffer</div><div class="ttdoc">The array used by the ringbuffer. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00166">ringbuffer.hpp:166</a></div></div>
<div class="ttc" id="messages_8h_html_a3bf0477dded19418d7ecac95aeae8856"><div class="ttname"><a href="messages_8h.html#a3bf0477dded19418d7ecac95aeae8856">MSG_OUTPUT_RINGINIT</a></div><div class="ttdeci">const std::string MSG_OUTPUT_RINGINIT</div><div class="ttdoc">Message shown when there is an error initialising the ring buffer. </div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00045">messages.h:45</a></div></div>
<div class="ttc" id="classInternalError_html"><div class="ttname"><a href="classInternalError.html">InternalError</a></div><div class="ttdoc">An Error signifying that playd has hit an internal snag. </div><div class="ttdef"><b>Definition:</b> <a href="errors_8hpp_source.html#l00056">errors.hpp:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae907c82ba714a087d9f35b089f9fbf77"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename RepT, typename SampleCountT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SampleCountT <a class="el" href="classRingBuffer.html">RingBuffer</a>&lt; RepT, SampleCountT &gt;::CountCast </td>
          <td>(</td>
          <td class="paramtype">ring_buffer_size_t&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a ring buffer size into an external size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The size/count in PortAudio form. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size/count after casting to SampleCountT. </dd></dl>

<p>Definition at line <a class="el" href="ringbuffer_8hpp_source.html#l00174">174</a> of file <a class="el" href="ringbuffer_8hpp_source.html">ringbuffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="ringbuffer_8hpp_source.html#l00149">RingBuffer&lt; char, unsigned long &gt;::Read()</a>, <a class="el" href="ringbuffer_8hpp_source.html#l00093">RingBuffer&lt; char, unsigned long &gt;::ReadCapacity()</a>, <a class="el" href="ringbuffer_8hpp_source.html#l00120">RingBuffer&lt; char, unsigned long &gt;::Write()</a>, and <a class="el" href="ringbuffer_8hpp_source.html#l00083">RingBuffer&lt; char, unsigned long &gt;::WriteCapacity()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>SampleCountT<span class="keyword">&gt;</span>(count);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af892330ee102bd50a493b8afa814a0f0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename RepT, typename SampleCountT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SampleCountT <a class="el" href="classRingBuffer.html">RingBuffer</a>&lt; RepT, SampleCountT &gt;::Read </td>
          <td>(</td>
          <td class="paramtype">RepT *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SampleCountT&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads samples from the ring buffer into an array. </p>
<p>To read one sample, pass a count of 1 and take a pointer to the sample variable.</p>
<ul>
<li>Precondition: start points to a valid array, 0 &lt; count &lt;= the size of the block of memory pointed to by start, count &lt;= <a class="el" href="classRingBuffer.html#a7086cc66306105db205842af7a88c2d8" title="The current read capacity. ">ReadCapacity()</a>.</li>
<li>Postcondition: The block of memory pointed to by start and bounded by count and <a class="el" href="classRingBuffer.html#a7086cc66306105db205842af7a88c2d8" title="The current read capacity. ">ReadCapacity()</a> has been filled with the appropriate number of samples from the front of the ring buffer.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>The start of the array buffer to which we write samples. Must not be nullptr. </td></tr>
    <tr><td class="paramname">count</td><td>The number of samples to read. This must not exceed the minimum of <a class="el" href="classRingBuffer.html#a7086cc66306105db205842af7a88c2d8" title="The current read capacity. ">ReadCapacity()</a> and the length of the array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of samples read, which should not exceed count. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classRingBuffer.html#a7086cc66306105db205842af7a88c2d8" title="The current read capacity. ">ReadCapacity</a> </dd></dl>

<p>Definition at line <a class="el" href="ringbuffer_8hpp_source.html#l00149">149</a> of file <a class="el" href="ringbuffer_8hpp_source.html">ringbuffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="audio__sink_8cpp_source.html#l00176">AudioSink::ReadSamplesToOutput()</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        assert(0 &lt; count);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        assert(count &lt;= <a class="code" href="classRingBuffer.html#a7086cc66306105db205842af7a88c2d8">ReadCapacity</a>());</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classRingBuffer.html#ae907c82ba714a087d9f35b089f9fbf77">CountCast</a>(PaUtil_ReadRingBuffer(</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        this-&gt;<a class="code" href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">rb</a>, start,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        static_cast&lt;ring_buffer_size_t&gt;(count)));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="ttc" id="classRingBuffer_html_a10985ec171bcc15c1301dc74fcb6e7b2"><div class="ttname"><a href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">RingBuffer::rb</a></div><div class="ttdeci">PaUtilRingBuffer * rb</div><div class="ttdoc">The internal PortAudio ringbuffer. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00167">ringbuffer.hpp:167</a></div></div>
<div class="ttc" id="classRingBuffer_html_a7086cc66306105db205842af7a88c2d8"><div class="ttname"><a href="classRingBuffer.html#a7086cc66306105db205842af7a88c2d8">RingBuffer::ReadCapacity</a></div><div class="ttdeci">SampleCountT ReadCapacity() const </div><div class="ttdoc">The current read capacity. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00093">ringbuffer.hpp:93</a></div></div>
<div class="ttc" id="classRingBuffer_html_ae907c82ba714a087d9f35b089f9fbf77"><div class="ttname"><a href="classRingBuffer.html#ae907c82ba714a087d9f35b089f9fbf77">RingBuffer::CountCast</a></div><div class="ttdeci">SampleCountT CountCast(ring_buffer_size_t count) const </div><div class="ttdoc">Converts a ring buffer size into an external size. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00174">ringbuffer.hpp:174</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7086cc66306105db205842af7a88c2d8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename RepT, typename SampleCountT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SampleCountT <a class="el" href="classRingBuffer.html">RingBuffer</a>&lt; RepT, SampleCountT &gt;::ReadCapacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current read capacity. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of samples available in this ring buffer. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classRingBuffer.html#af892330ee102bd50a493b8afa814a0f0" title="Reads samples from the ring buffer into an array. ">Read</a> </dd></dl>

<p>Definition at line <a class="el" href="ringbuffer_8hpp_source.html#l00093">93</a> of file <a class="el" href="ringbuffer_8hpp_source.html">ringbuffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="audio__sink_8cpp_source.html#l00126">AudioSink::PlayCallbackStep()</a>, and <a class="el" href="ringbuffer_8hpp_source.html#l00149">RingBuffer&lt; char, unsigned long &gt;::Read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classRingBuffer.html#ae907c82ba714a087d9f35b089f9fbf77">CountCast</a>(PaUtil_GetRingBufferReadAvailable(this-&gt;<a class="code" href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">rb</a>));</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="ttc" id="classRingBuffer_html_a10985ec171bcc15c1301dc74fcb6e7b2"><div class="ttname"><a href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">RingBuffer::rb</a></div><div class="ttdeci">PaUtilRingBuffer * rb</div><div class="ttdoc">The internal PortAudio ringbuffer. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00167">ringbuffer.hpp:167</a></div></div>
<div class="ttc" id="classRingBuffer_html_ae907c82ba714a087d9f35b089f9fbf77"><div class="ttname"><a href="classRingBuffer.html#ae907c82ba714a087d9f35b089f9fbf77">RingBuffer::CountCast</a></div><div class="ttdeci">SampleCountT CountCast(ring_buffer_size_t count) const </div><div class="ttdoc">Converts a ring buffer size into an external size. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00174">ringbuffer.hpp:174</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7f863968cb641946b0cf341bda11e16"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename RepT, typename SampleCountT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SampleCountT <a class="el" href="classRingBuffer.html">RingBuffer</a>&lt; RepT, SampleCountT &gt;::Write </td>
          <td>(</td>
          <td class="paramtype">RepT *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SampleCountT&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes samples from an array into the ring buffer. </p>
<p>To write one sample, pass a count of 1 and take a pointer to the sample variable. Note that start pointer is not constant. This is because the underlying implementation of the ring buffer might not guarantee that the array is left untouched.</p>
<ul>
<li>Precondition: start points to a valid array, 0 &lt; count &lt;= the size of the block of memory pointed to by start, count &lt;= <a class="el" href="classRingBuffer.html#ab00617ab6e379ad146cb7b80079f4c4c" title="The current write capacity. ">WriteCapacity()</a>.</li>
<li>Postcondition: The ringbuffer has been written to with the contents of the memory pointed to by start and bounded by count and <a class="el" href="classRingBuffer.html#ab00617ab6e379ad146cb7b80079f4c4c" title="The current write capacity. ">WriteCapacity()</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>The start of the array buffer from which we read samples. Must not be nullptr. </td></tr>
    <tr><td class="paramname">count</td><td>The number of samples to write. This must not exceed the minimum of <a class="el" href="classRingBuffer.html#ab00617ab6e379ad146cb7b80079f4c4c" title="The current write capacity. ">WriteCapacity()</a> and the length of the array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of samples written, which should not exceed count. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classRingBuffer.html#ab00617ab6e379ad146cb7b80079f4c4c" title="The current write capacity. ">WriteCapacity</a> </dd></dl>

<p>Definition at line <a class="el" href="ringbuffer_8hpp_source.html#l00120">120</a> of file <a class="el" href="ringbuffer_8hpp_source.html">ringbuffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="audio__sink_8cpp_source.html#l00076">AudioSink::Transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        assert(0 &lt; count);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        assert(count &lt;= <a class="code" href="classRingBuffer.html#ab00617ab6e379ad146cb7b80079f4c4c">WriteCapacity</a>());</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classRingBuffer.html#ae907c82ba714a087d9f35b089f9fbf77">CountCast</a>(PaUtil_WriteRingBuffer(</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                        this-&gt;<a class="code" href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">rb</a>, start,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                        static_cast&lt;ring_buffer_size_t&gt;(count)));</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="ttc" id="classRingBuffer_html_a10985ec171bcc15c1301dc74fcb6e7b2"><div class="ttname"><a href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">RingBuffer::rb</a></div><div class="ttdeci">PaUtilRingBuffer * rb</div><div class="ttdoc">The internal PortAudio ringbuffer. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00167">ringbuffer.hpp:167</a></div></div>
<div class="ttc" id="classRingBuffer_html_ae907c82ba714a087d9f35b089f9fbf77"><div class="ttname"><a href="classRingBuffer.html#ae907c82ba714a087d9f35b089f9fbf77">RingBuffer::CountCast</a></div><div class="ttdeci">SampleCountT CountCast(ring_buffer_size_t count) const </div><div class="ttdoc">Converts a ring buffer size into an external size. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00174">ringbuffer.hpp:174</a></div></div>
<div class="ttc" id="classRingBuffer_html_ab00617ab6e379ad146cb7b80079f4c4c"><div class="ttname"><a href="classRingBuffer.html#ab00617ab6e379ad146cb7b80079f4c4c">RingBuffer::WriteCapacity</a></div><div class="ttdeci">SampleCountT WriteCapacity() const </div><div class="ttdoc">The current write capacity. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00083">ringbuffer.hpp:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab00617ab6e379ad146cb7b80079f4c4c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename RepT, typename SampleCountT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SampleCountT <a class="el" href="classRingBuffer.html">RingBuffer</a>&lt; RepT, SampleCountT &gt;::WriteCapacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current write capacity. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of samples this ring buffer has space to store. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classRingBuffer.html#aa7f863968cb641946b0cf341bda11e16" title="Writes samples from an array into the ring buffer. ">Write</a> </dd></dl>

<p>Definition at line <a class="el" href="ringbuffer_8hpp_source.html#l00083">83</a> of file <a class="el" href="ringbuffer_8hpp_source.html">ringbuffer.hpp</a>.</p>

<p>Referenced by <a class="el" href="audio__sink_8cpp_source.html#l00076">AudioSink::Transfer()</a>, and <a class="el" href="ringbuffer_8hpp_source.html#l00120">RingBuffer&lt; char, unsigned long &gt;::Write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classRingBuffer.html#ae907c82ba714a087d9f35b089f9fbf77">CountCast</a>(PaUtil_GetRingBufferWriteAvailable(this-&gt;<a class="code" href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">rb</a>));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div>
<div class="ttc" id="classRingBuffer_html_a10985ec171bcc15c1301dc74fcb6e7b2"><div class="ttname"><a href="classRingBuffer.html#a10985ec171bcc15c1301dc74fcb6e7b2">RingBuffer::rb</a></div><div class="ttdeci">PaUtilRingBuffer * rb</div><div class="ttdoc">The internal PortAudio ringbuffer. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00167">ringbuffer.hpp:167</a></div></div>
<div class="ttc" id="classRingBuffer_html_ae907c82ba714a087d9f35b089f9fbf77"><div class="ttname"><a href="classRingBuffer.html#ae907c82ba714a087d9f35b089f9fbf77">RingBuffer::CountCast</a></div><div class="ttdeci">SampleCountT CountCast(ring_buffer_size_t count) const </div><div class="ttdoc">Converts a ring buffer size into an external size. </div><div class="ttdef"><b>Definition:</b> <a href="ringbuffer_8hpp_source.html#l00174">ringbuffer.hpp:174</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/audio/<a class="el" href="ringbuffer_8hpp_source.html">ringbuffer.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classRingBuffer.html">RingBuffer</a></li>
    <li class="footer">Generated on Sun Sep 7 2014 15:25:41 for URY playd by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
