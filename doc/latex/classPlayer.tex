\hypertarget{classPlayer}{\section{Player Class Reference}
\label{classPlayer}\index{Player@{Player}}
}


A \hyperlink{classPlayer}{Player} contains a loaded audio file and the state of its playback.  




{\ttfamily \#include $<$player.\+hpp$>$}



Collaboration diagram for Player\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classPlayer__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classPlayer_ab2c65f4a7cbaf6aab6fafbb5633a42c4}{using \hyperlink{classPlayer_ab2c65f4a7cbaf6aab6fafbb5633a42c4}{T\+P} = \hyperlink{classTimeParser}{Time\+Parser}$<$ std\+::chrono\+::microseconds $>$}\label{classPlayer_ab2c65f4a7cbaf6aab6fafbb5633a42c4}

\begin{DoxyCompactList}\small\item\em The type of \hyperlink{classTimeParser}{Time\+Parser} the \hyperlink{classPlayer}{Player} expects. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classPlayer_a19fcaf8a2864565adcde9b955a890431}{Player} (const \hyperlink{classAudioSystem}{Audio\+System} \&audio\+\_\+system, const \hyperlink{classPlayer_ab2c65f4a7cbaf6aab6fafbb5633a42c4}{T\+P} \&\hyperlink{classPlayer_ad7c6ccd4156c01d419825abe6704fca7}{time\+\_\+parser})
\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{classPlayer}{Player}. \end{DoxyCompactList}\item 
\hypertarget{classPlayer_ae8015d1f08ba69d663cfdaea1a64d1a4}{\hyperlink{classPlayer_ae8015d1f08ba69d663cfdaea1a64d1a4}{Player} (const \hyperlink{classPlayer}{Player} \&)=delete}\label{classPlayer_ae8015d1f08ba69d663cfdaea1a64d1a4}

\begin{DoxyCompactList}\small\item\em Deleted copy constructor. \end{DoxyCompactList}\item 
\hypertarget{classPlayer_ab81d34e4adb4e329d26b1635d866462d}{\hyperlink{classPlayer}{Player} \& \hyperlink{classPlayer_ab81d34e4adb4e329d26b1635d866462d}{operator=} (const \hyperlink{classPlayer}{Player} \&)=delete}\label{classPlayer_ab81d34e4adb4e329d26b1635d866462d}

\begin{DoxyCompactList}\small\item\em Deleted copy-\/assignment constructor. \end{DoxyCompactList}\item 
bool \hyperlink{classPlayer_a0688e00b9fa4699dbe15c370b2703a68}{Is\+Running} () const 
\begin{DoxyCompactList}\small\item\em Returns whether this \hyperlink{classPlayer}{Player} is still running. \end{DoxyCompactList}\item 
bool \hyperlink{classPlayer_ac93a5310c751e8a9221780933f7a9dd6}{Eject} ()
\begin{DoxyCompactList}\small\item\em Ejects the current loaded song, if any. \end{DoxyCompactList}\item 
bool \hyperlink{classPlayer_a1df3950102f682608482042cdea96598}{Play} ()
\begin{DoxyCompactList}\small\item\em Plays the current loaded song, if any. \end{DoxyCompactList}\item 
bool \hyperlink{classPlayer_a7d5c0535d543b358b6deecb054565b97}{Quit} ()
\begin{DoxyCompactList}\small\item\em Quits playd. \end{DoxyCompactList}\item 
bool \hyperlink{classPlayer_abe074115b0ffa631ea432a1b84171599}{Stop} ()
\begin{DoxyCompactList}\small\item\em Stops the currently playing track, if any. \end{DoxyCompactList}\item 
bool \hyperlink{classPlayer_a41c5eccb1f3b86383eaafe56a40a60e0}{Load} (const std\+::string \&path)
\begin{DoxyCompactList}\small\item\em Loads a track. \end{DoxyCompactList}\item 
bool \hyperlink{classPlayer_a873c7e0a5be71efbadeebfbc20d7448a}{Seek} (const std\+::string \&time\+\_\+str)
\begin{DoxyCompactList}\small\item\em Seeks to a given position in the current track. \end{DoxyCompactList}\item 
const std\+::string \& \hyperlink{classPlayer_a361edb67ec9c9db40cf25463f2929b42}{Current\+State\+String} () const 
\begin{DoxyCompactList}\small\item\em A human-\/readable string representation of the current state. \end{DoxyCompactList}\item 
bool \hyperlink{classPlayer_a91f887a024035be5030aa4b3384705fa}{Update} ()
\begin{DoxyCompactList}\small\item\em Instructs the \hyperlink{classPlayer}{Player} to perform a cycle of work. \end{DoxyCompactList}\item 
void \hyperlink{classPlayer_a719de5af4d1534c2d805a19d5d995deb}{Set\+Response\+Sink} (\hyperlink{classResponseSink}{Response\+Sink} \&sink)
\begin{DoxyCompactList}\small\item\em Registers a response sink with the \hyperlink{classPlayer}{Player}. \end{DoxyCompactList}\item 
void \hyperlink{classPlayer_a1e65e04dae199230d80639112ac07288}{Set\+Position\+Response\+Period} (\hyperlink{classPlayerPosition_a535c99057ceca21d8fbe82883c592a66}{Player\+Position\+::\+Unit} period)
\begin{DoxyCompactList}\small\item\em Sets the period between position responses. \end{DoxyCompactList}\item 
void \hyperlink{classPlayer_aac35c9a49758150d5c5e0ea2fcd94d16}{Welcome\+Client} (\hyperlink{classResponseSink}{Response\+Sink} \&client) const 
\begin{DoxyCompactList}\small\item\em Sends welcome/current status information to a new client. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classPlayer_aa56e60cd7b83a4aa7ebda1e6ec054f4d}{Current\+State\+In} (\hyperlink{classPlayerState_a0f4e455f0579f97740855ccc6177c9f1}{Player\+State\+::\+List} states) const 
\begin{DoxyCompactList}\small\item\em Checks whether the current player state is one of the given states. \end{DoxyCompactList}\item 
void \hyperlink{classPlayer_a92807b30e89ece50e94dac493ee56b51}{Set\+State} (\hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07}{Player\+State\+::\+State} \hyperlink{classPlayer_afb60fdad921bce05783ef2709e849c27}{state})
\begin{DoxyCompactList}\small\item\em Sets the current player state. \end{DoxyCompactList}\item 
std\+::pair$<$ std\+::string, \\*
std\+::uint64\+\_\+t $>$ \hyperlink{classPlayer_a9928623cdd372a0abee02fb21de083da}{Parse\+Seek\+Time} (const std\+::string \&time\+\_\+str) const 
\begin{DoxyCompactList}\small\item\em Parses a time string into a pair of unit prefix and timestamp. \end{DoxyCompactList}\item 
void \hyperlink{classPlayer_aa055a70690c66e3fd9949358fccadd5c}{Update\+Position} ()
\begin{DoxyCompactList}\small\item\em Updates the player position to reflect changes in the audio system. \end{DoxyCompactList}\item 
void \hyperlink{classPlayer_a66e226836bf4d6cd206716caeb232094}{Reset\+Position} ()
\begin{DoxyCompactList}\small\item\em Resets the player position. \end{DoxyCompactList}\item 
\hypertarget{classPlayer_affe746dc330ee92b64e2093c84858625}{void \hyperlink{classPlayer_affe746dc330ee92b64e2093c84858625}{Playback\+Update} ()}\label{classPlayer_affe746dc330ee92b64e2093c84858625}

\begin{DoxyCompactList}\small\item\em Performs player updates necessary while the player is playing. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{\hyperlink{classPlayerFile}{Player\+File} \hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}}\label{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}

\begin{DoxyCompactList}\small\item\em The file subcomponent of the \hyperlink{classPlayer}{Player}. \end{DoxyCompactList}\item 
\hypertarget{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{\hyperlink{classPlayerPosition}{Player\+Position} \hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position}}\label{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}

\begin{DoxyCompactList}\small\item\em The position subcomponent of the \hyperlink{classPlayer}{Player}. \end{DoxyCompactList}\item 
\hypertarget{classPlayer_afb60fdad921bce05783ef2709e849c27}{\hyperlink{classPlayerState}{Player\+State} \hyperlink{classPlayer_afb60fdad921bce05783ef2709e849c27}{state}}\label{classPlayer_afb60fdad921bce05783ef2709e849c27}

\begin{DoxyCompactList}\small\item\em The state subcomponent of the \hyperlink{classPlayer}{Player}. \end{DoxyCompactList}\item 
\hypertarget{classPlayer_ad7c6ccd4156c01d419825abe6704fca7}{const \hyperlink{classPlayer_ab2c65f4a7cbaf6aab6fafbb5633a42c4}{T\+P} \& \hyperlink{classPlayer_ad7c6ccd4156c01d419825abe6704fca7}{time\+\_\+parser}}\label{classPlayer_ad7c6ccd4156c01d419825abe6704fca7}

\begin{DoxyCompactList}\small\item\em The time parser used to parse seek commands. \end{DoxyCompactList}\item 
\hypertarget{classPlayer_aa6e6da38e67a266350452cfbc6d8341b}{\hyperlink{classResponseSink}{Response\+Sink} $\ast$ \hyperlink{classPlayer_aa6e6da38e67a266350452cfbc6d8341b}{end\+\_\+sink}}\label{classPlayer_aa6e6da38e67a266350452cfbc6d8341b}

\begin{DoxyCompactList}\small\item\em The sink to which E\+N\+D responses shall be sent. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A \hyperlink{classPlayer}{Player} contains a loaded audio file and the state of its playback. 

\begin{DoxySeeAlso}{See also}
\hyperlink{classPlayerPosition}{Player\+Position} 

\hyperlink{classPlayerState}{Player\+State} 
\end{DoxySeeAlso}


Definition at line \hyperlink{player_8hpp_source_l00038}{38} of file \hyperlink{player_8hpp_source}{player.\+hpp}.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classPlayer_a19fcaf8a2864565adcde9b955a890431}{\index{Player@{Player}!Player@{Player}}
\index{Player@{Player}!Player@{Player}}
\subsubsection[{Player}]{\setlength{\rightskip}{0pt plus 5cm}Player\+::\+Player (
\begin{DoxyParamCaption}
\item[{const {\bf Audio\+System} \&}]{audio\+\_\+system, }
\item[{const {\bf T\+P} \&}]{time\+\_\+parser}
\end{DoxyParamCaption}
)}}\label{classPlayer_a19fcaf8a2864565adcde9b955a890431}


Constructs a \hyperlink{classPlayer}{Player}. 


\begin{DoxyParams}{Parameters}
{\em audio\+\_\+system} & The audio system object. \\
\hline
{\em time\+\_\+parser} & The parser used to interpret Seek commands. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{player_8cpp_source_l00025}{25} of file \hyperlink{player_8cpp_source}{player.\+cpp}.


\begin{DoxyCode}
00026     : \hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}(audio\_system),
00027       \hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position}(),
00028       \hyperlink{classPlayer_afb60fdad921bce05783ef2709e849c27}{state}(),
00029       \hyperlink{classPlayer_ad7c6ccd4156c01d419825abe6704fca7}{time\_parser}(\hyperlink{classPlayer_ad7c6ccd4156c01d419825abe6704fca7}{time\_parser}),
00030       \hyperlink{classPlayer_aa6e6da38e67a266350452cfbc6d8341b}{end\_sink}(\textcolor{keyword}{nullptr})
00031 \{
00032 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classPlayer_aa56e60cd7b83a4aa7ebda1e6ec054f4d}{\index{Player@{Player}!Current\+State\+In@{Current\+State\+In}}
\index{Current\+State\+In@{Current\+State\+In}!Player@{Player}}
\subsubsection[{Current\+State\+In}]{\setlength{\rightskip}{0pt plus 5cm}bool Player\+::\+Current\+State\+In (
\begin{DoxyParamCaption}
\item[{{\bf Player\+State\+::\+List}}]{states}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}}\label{classPlayer_aa56e60cd7b83a4aa7ebda1e6ec054f4d}


Checks whether the current player state is one of the given states. 


\begin{DoxyParams}{Parameters}
{\em states} & The initialiser list of states. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the state is in the given list; false otherwise. 
\end{DoxyReturn}


Definition at line \hyperlink{player__state_8cpp_source_l00021}{21} of file \hyperlink{player__state_8cpp_source}{player\+\_\+state.\+cpp}.



References \hyperlink{player__state_8cpp_source_l00058}{Player\+State\+::\+In()}, and \hyperlink{player_8hpp_source_l00046}{state}.



Referenced by \hyperlink{player_8cpp_source_l00079}{Eject()}, \hyperlink{player_8cpp_source_l00116}{Play()}, \hyperlink{player_8cpp_source_l00134}{Seek()}, \hyperlink{player_8cpp_source_l00159}{Stop()}, and \hyperlink{player_8cpp_source_l00034}{Update()}.


\begin{DoxyCode}
00022 \{
00023     \textcolor{keywordflow}{return} this->\hyperlink{classPlayer_afb60fdad921bce05783ef2709e849c27}{state}.\hyperlink{classPlayerState_aa2c0e603dd57dcc37759d716596ffa33}{In}(states);
00024 \}
\end{DoxyCode}
\hypertarget{classPlayer_a361edb67ec9c9db40cf25463f2929b42}{\index{Player@{Player}!Current\+State\+String@{Current\+State\+String}}
\index{Current\+State\+String@{Current\+State\+String}!Player@{Player}}
\subsubsection[{Current\+State\+String}]{\setlength{\rightskip}{0pt plus 5cm}const std\+::string\& Player\+::\+Current\+State\+String (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classPlayer_a361edb67ec9c9db40cf25463f2929b42}


A human-\/readable string representation of the current state. 

\begin{DoxyReturn}{Returns}
The current state, as a human-\/readable string.. 
\end{DoxyReturn}
\hypertarget{classPlayer_ac93a5310c751e8a9221780933f7a9dd6}{\index{Player@{Player}!Eject@{Eject}}
\index{Eject@{Eject}!Player@{Player}}
\subsubsection[{Eject}]{\setlength{\rightskip}{0pt plus 5cm}bool Player\+::\+Eject (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classPlayer_ac93a5310c751e8a9221780933f7a9dd6}


Ejects the current loaded song, if any. 

\begin{DoxyReturn}{Returns}
Whether the ejection succeeded. 
\end{DoxyReturn}


Definition at line \hyperlink{player_8cpp_source_l00079}{79} of file \hyperlink{player_8cpp_source}{player.\+cpp}.



References \hyperlink{player__state_8hpp_source_l00047}{Player\+State\+::\+A\+U\+D\+I\+O\+\_\+\+L\+O\+A\+D\+E\+D\+\_\+\+S\+T\+A\+T\+E\+S}, \hyperlink{player__state_8cpp_source_l00021}{Current\+State\+In()}, \hyperlink{player__file_8cpp_source_l00033}{Player\+File\+::\+Eject()}, \hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a209d5541434371bb6b79dc8cca8fa55b}{Player\+State\+::\+E\+J\+E\+C\+T\+E\+D}, \hyperlink{player_8hpp_source_l00044}{file}, and \hyperlink{player__state_8cpp_source_l00031}{Set\+State()}.



Referenced by \hyperlink{player_8cpp_source_l00089}{Load()}, \hyperlink{player_8cpp_source_l00126}{Quit()}, and \hyperlink{cmd_8cpp_source_l00032}{Command\+Handler\+::\+Run\+Nullary()}.


\begin{DoxyCode}
00080 \{
00081     \textcolor{keywordflow}{if} (\hyperlink{classPlayer_aa56e60cd7b83a4aa7ebda1e6ec054f4d}{CurrentStateIn}(\hyperlink{classPlayerState_a850bf90685a377001cfc46808cf017a4}{PlayerState::AUDIO\_LOADED\_STATES})) \{
00082         this->\hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}.\hyperlink{classPlayerFile_a394b2e7b4f4d0baee4ff1928a36e9945}{Eject}();
00083         \hyperlink{classPlayer_a92807b30e89ece50e94dac493ee56b51}{SetState}(\hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a209d5541434371bb6b79dc8cca8fa55b}{PlayerState::State::EJECTED});
00084         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00085     \}
00086     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00087 \}
\end{DoxyCode}
\hypertarget{classPlayer_a0688e00b9fa4699dbe15c370b2703a68}{\index{Player@{Player}!Is\+Running@{Is\+Running}}
\index{Is\+Running@{Is\+Running}!Player@{Player}}
\subsubsection[{Is\+Running}]{\setlength{\rightskip}{0pt plus 5cm}bool Player\+::\+Is\+Running (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classPlayer_a0688e00b9fa4699dbe15c370b2703a68}


Returns whether this \hyperlink{classPlayer}{Player} is still running. 

\begin{DoxyReturn}{Returns}
True if this player is not in the Q\+U\+I\+T\+T\+I\+N\+G state; false otherwise. 
\end{DoxyReturn}


Definition at line \hyperlink{player__state_8cpp_source_l00026}{26} of file \hyperlink{player__state_8cpp_source}{player\+\_\+state.\+cpp}.



References \hyperlink{player__state_8cpp_source_l00064}{Player\+State\+::\+Is\+Running()}, and \hyperlink{player_8hpp_source_l00046}{state}.



Referenced by \hyperlink{player_8cpp_source_l00034}{Update()}.


\begin{DoxyCode}
00027 \{
00028     \textcolor{keywordflow}{return} this->\hyperlink{classPlayer_afb60fdad921bce05783ef2709e849c27}{state}.\hyperlink{classPlayerState_aeb19817b9da2f6765b990983f87e1527}{IsRunning}();
00029 \}
\end{DoxyCode}
\hypertarget{classPlayer_a41c5eccb1f3b86383eaafe56a40a60e0}{\index{Player@{Player}!Load@{Load}}
\index{Load@{Load}!Player@{Player}}
\subsubsection[{Load}]{\setlength{\rightskip}{0pt plus 5cm}bool Player\+::\+Load (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{path}
\end{DoxyParamCaption}
)}}\label{classPlayer_a41c5eccb1f3b86383eaafe56a40a60e0}


Loads a track. 


\begin{DoxyParams}{Parameters}
{\em path} & The absolute path to a track to load. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether the load succeeded. 
\end{DoxyReturn}


Definition at line \hyperlink{player_8cpp_source_l00089}{89} of file \hyperlink{player_8cpp_source}{player.\+cpp}.



References \hyperlink{player_8cpp_source_l00079}{Eject()}, \hyperlink{player_8hpp_source_l00044}{file}, \hyperlink{player__file_8cpp_source_l00025}{Player\+File\+::\+Load()}, \hyperlink{player__position_8cpp_source_l00032}{Reset\+Position()}, \hyperlink{player__state_8cpp_source_l00031}{Set\+State()}, and \hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a09d4d696b4e935115b9313e3c412509a}{Player\+State\+::\+S\+T\+O\+P\+P\+E\+D}.



Referenced by \hyperlink{cmd_8cpp_source_l00041}{Command\+Handler\+::\+Run\+Unary()}.


\begin{DoxyCode}
00090 \{
00091     \textcolor{keywordtype}{bool} valid = !path.empty();
00092     \textcolor{keywordflow}{if} (valid) \{
00093         \textcolor{keywordflow}{try}
00094         \{
00095             this->\hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}.\hyperlink{classPlayerFile_a92dd004d4ab034bf41f7d5c76847d3c2}{Load}(path);
00096             \hyperlink{classPlayer_a66e226836bf4d6cd206716caeb232094}{ResetPosition}();
00097             \hyperlink{classPlayer_a92807b30e89ece50e94dac493ee56b51}{SetState}(\hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a09d4d696b4e935115b9313e3c412509a}{PlayerState::State::STOPPED});
00098         \}
00099         \textcolor{keywordflow}{catch} (\hyperlink{classFileError}{FileError} &)
00100         \{
00101             \textcolor{comment}{// File errors aren't fatal, so catch them here.}
00102             \hyperlink{classPlayer_ac93a5310c751e8a9221780933f7a9dd6}{Eject}();
00103             valid = \textcolor{keyword}{false};
00104         \}
00105         \textcolor{keywordflow}{catch} (\hyperlink{classError}{Error} &)
00106         \{
00107             \textcolor{comment}{// Ensure a load failure doesn't leave a corrupted track}
00108             \textcolor{comment}{// loaded.}
00109             \hyperlink{classPlayer_ac93a5310c751e8a9221780933f7a9dd6}{Eject}();
00110             \textcolor{keywordflow}{throw};
00111         \}
00112     \}
00113     \textcolor{keywordflow}{return} valid;
00114 \}
\end{DoxyCode}
\hypertarget{classPlayer_a9928623cdd372a0abee02fb21de083da}{\index{Player@{Player}!Parse\+Seek\+Time@{Parse\+Seek\+Time}}
\index{Parse\+Seek\+Time@{Parse\+Seek\+Time}!Player@{Player}}
\subsubsection[{Parse\+Seek\+Time}]{\setlength{\rightskip}{0pt plus 5cm}std\+::pair$<$std\+::string, std\+::uint64\+\_\+t$>$ Player\+::\+Parse\+Seek\+Time (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{time\+\_\+str}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}}\label{classPlayer_a9928623cdd372a0abee02fb21de083da}


Parses a time string into a pair of unit prefix and timestamp. 


\begin{DoxyParams}{Parameters}
{\em time\+\_\+str} & The time string to parse. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pair of unit prefix and timestamp. 
\end{DoxyReturn}
\hypertarget{classPlayer_a1df3950102f682608482042cdea96598}{\index{Player@{Player}!Play@{Play}}
\index{Play@{Play}!Player@{Player}}
\subsubsection[{Play}]{\setlength{\rightskip}{0pt plus 5cm}bool Player\+::\+Play (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classPlayer_a1df3950102f682608482042cdea96598}


Plays the current loaded song, if any. 

\begin{DoxyReturn}{Returns}
Whether the starting of playback succeeded. 
\end{DoxyReturn}


Definition at line \hyperlink{player_8cpp_source_l00116}{116} of file \hyperlink{player_8cpp_source}{player.\+cpp}.



References \hyperlink{player__state_8cpp_source_l00021}{Current\+State\+In()}, \hyperlink{player_8hpp_source_l00044}{file}, \hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a50366a49630a416ab3ccaa004196027e}{Player\+State\+::\+P\+L\+A\+Y\+I\+N\+G}, \hyperlink{player__state_8cpp_source_l00031}{Set\+State()}, \hyperlink{player__file_8cpp_source_l00044}{Player\+File\+::\+Start()}, and \hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a09d4d696b4e935115b9313e3c412509a}{Player\+State\+::\+S\+T\+O\+P\+P\+E\+D}.



Referenced by \hyperlink{cmd_8cpp_source_l00032}{Command\+Handler\+::\+Run\+Nullary()}.


\begin{DoxyCode}
00117 \{
00118     \textcolor{keywordflow}{if} (\hyperlink{classPlayer_aa56e60cd7b83a4aa7ebda1e6ec054f4d}{CurrentStateIn}(\{ \hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a09d4d696b4e935115b9313e3c412509a}{PlayerState::State::STOPPED} \})) \{
00119         this->\hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}.\hyperlink{classPlayerFile_a426f8ad29efd5e16ac7963354087d070}{Start}();
00120         \hyperlink{classPlayer_a92807b30e89ece50e94dac493ee56b51}{SetState}(\hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a50366a49630a416ab3ccaa004196027e}{PlayerState::State::PLAYING});
00121         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00122     \}
00123     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00124 \}
\end{DoxyCode}
\hypertarget{classPlayer_a7d5c0535d543b358b6deecb054565b97}{\index{Player@{Player}!Quit@{Quit}}
\index{Quit@{Quit}!Player@{Player}}
\subsubsection[{Quit}]{\setlength{\rightskip}{0pt plus 5cm}bool Player\+::\+Quit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classPlayer_a7d5c0535d543b358b6deecb054565b97}


Quits playd. 

\begin{DoxyReturn}{Returns}
Whether the quit succeeded. 
\end{DoxyReturn}


Definition at line \hyperlink{player_8cpp_source_l00126}{126} of file \hyperlink{player_8cpp_source}{player.\+cpp}.



References \hyperlink{player_8cpp_source_l00079}{Eject()}, \hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a4eb3979af877a3c13830cd69c746e230}{Player\+State\+::\+Q\+U\+I\+T\+T\+I\+N\+G}, and \hyperlink{player__state_8cpp_source_l00031}{Set\+State()}.



Referenced by \hyperlink{cmd_8cpp_source_l00032}{Command\+Handler\+::\+Run\+Nullary()}.


\begin{DoxyCode}
00127 \{
00128     \hyperlink{classPlayer_ac93a5310c751e8a9221780933f7a9dd6}{Eject}();
00129     \hyperlink{classPlayer_a92807b30e89ece50e94dac493ee56b51}{SetState}(\hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a4eb3979af877a3c13830cd69c746e230}{PlayerState::State::QUITTING});
00130 
00131     \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \textcolor{comment}{// Always a valid command.}
00132 \}
\end{DoxyCode}
\hypertarget{classPlayer_a66e226836bf4d6cd206716caeb232094}{\index{Player@{Player}!Reset\+Position@{Reset\+Position}}
\index{Reset\+Position@{Reset\+Position}!Player@{Player}}
\subsubsection[{Reset\+Position}]{\setlength{\rightskip}{0pt plus 5cm}void Player\+::\+Reset\+Position (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classPlayer_a66e226836bf4d6cd206716caeb232094}


Resets the player position. 

Call this whenever the audio position has changed drastically (eg a seek has happened, or a new file has been loaded). \begin{DoxySeeAlso}{See also}
\hyperlink{classPlayer_aa055a70690c66e3fd9949358fccadd5c}{Update\+Position} 
\end{DoxySeeAlso}


Definition at line \hyperlink{player__position_8cpp_source_l00032}{32} of file \hyperlink{player__position_8cpp_source}{player\+\_\+position.\+cpp}.



References \hyperlink{player_8hpp_source_l00045}{position}, and \hyperlink{player__position_8cpp_source_l00060}{Player\+Position\+::\+Reset()}.



Referenced by \hyperlink{player_8cpp_source_l00089}{Load()}, and \hyperlink{player_8cpp_source_l00134}{Seek()}.


\begin{DoxyCode}
00033 \{
00034     this->\hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position}.\hyperlink{classPlayerPosition_a813e8eb40fdff815683fb7a5b1671ede}{Reset}();
00035 \}
\end{DoxyCode}
\hypertarget{classPlayer_a873c7e0a5be71efbadeebfbc20d7448a}{\index{Player@{Player}!Seek@{Seek}}
\index{Seek@{Seek}!Player@{Player}}
\subsubsection[{Seek}]{\setlength{\rightskip}{0pt plus 5cm}bool Player\+::\+Seek (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{time\+\_\+str}
\end{DoxyParamCaption}
)}}\label{classPlayer_a873c7e0a5be71efbadeebfbc20d7448a}


Seeks to a given position in the current track. 


\begin{DoxyParams}{Parameters}
{\em time\+\_\+str} & A string containing a timestamp, followed by the shorthand for the units of time in which the timestamp is measured relative to the start of the track. If the latter is omitted, microseconds are assumed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether the seek succeeded. 
\end{DoxyReturn}


Definition at line \hyperlink{player_8cpp_source_l00134}{134} of file \hyperlink{player_8cpp_source}{player.\+cpp}.



References \hyperlink{player__state_8hpp_source_l00047}{Player\+State\+::\+A\+U\+D\+I\+O\+\_\+\+L\+O\+A\+D\+E\+D\+\_\+\+S\+T\+A\+T\+E\+S}, \hyperlink{player__state_8cpp_source_l00021}{Current\+State\+In()}, \hyperlink{player_8hpp_source_l00044}{file}, \hyperlink{time__parser_8hpp_source_l00065}{Time\+Parser$<$ Out\+Unit, Int\+Type $>$\+::\+Parse()}, \hyperlink{player_8hpp_source_l00045}{position}, \hyperlink{player__position_8cpp_source_l00032}{Reset\+Position()}, \hyperlink{player__file_8hpp_source_l00081}{Player\+File\+::\+Seek\+To\+Position()}, \hyperlink{player_8hpp_source_l00049}{time\+\_\+parser}, and \hyperlink{player__position_8cpp_source_l00026}{Update\+Position()}.



Referenced by \hyperlink{player_8cpp_source_l00045}{Playback\+Update()}, and \hyperlink{cmd_8cpp_source_l00041}{Command\+Handler\+::\+Run\+Unary()}.


\begin{DoxyCode}
00135 \{
00136     \textcolor{keywordflow}{if} (\hyperlink{classPlayer_aa56e60cd7b83a4aa7ebda1e6ec054f4d}{CurrentStateIn}(\hyperlink{classPlayerState_a850bf90685a377001cfc46808cf017a4}{PlayerState::AUDIO\_LOADED\_STATES})) \{
00137         \textcolor{keywordtype}{bool} success = \textcolor{keyword}{true};
00138         std::chrono::microseconds \hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position}(0);
00139 
00140         \textcolor{keywordflow}{try}
00141         \{
00142             \hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position} = this->\hyperlink{classPlayer_ad7c6ccd4156c01d419825abe6704fca7}{time\_parser}.\hyperlink{classTimeParser_a68110dc8c7d2ad1a8f47a29646ad4d1c}{Parse}(time\_str);
00143         \}
00144         \textcolor{keywordflow}{catch} (std::out\_of\_range)
00145         \{
00146             success = \textcolor{keyword}{false};
00147         \}
00148 
00149         \textcolor{keywordflow}{if} (success) \{
00150             this->\hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}.\hyperlink{classPlayerFile_a8c270134404d83fe6c9e844abeacf3e5}{SeekToPosition}(\hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position});
00151             this->\hyperlink{classPlayer_a66e226836bf4d6cd206716caeb232094}{ResetPosition}();
00152             this->\hyperlink{classPlayer_aa055a70690c66e3fd9949358fccadd5c}{UpdatePosition}();
00153         \}
00154         \textcolor{keywordflow}{return} success;
00155     \}
00156     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00157 \}
\end{DoxyCode}
\hypertarget{classPlayer_a1e65e04dae199230d80639112ac07288}{\index{Player@{Player}!Set\+Position\+Response\+Period@{Set\+Position\+Response\+Period}}
\index{Set\+Position\+Response\+Period@{Set\+Position\+Response\+Period}!Player@{Player}}
\subsubsection[{Set\+Position\+Response\+Period}]{\setlength{\rightskip}{0pt plus 5cm}void Player\+::\+Set\+Position\+Response\+Period (
\begin{DoxyParamCaption}
\item[{{\bf Player\+Position\+::\+Unit}}]{period}
\end{DoxyParamCaption}
)}}\label{classPlayer_a1e65e04dae199230d80639112ac07288}


Sets the period between position responses. 


\begin{DoxyParams}{Parameters}
{\em period} & The period to wait between responses. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{player__position_8cpp_source_l00021}{21} of file \hyperlink{player__position_8cpp_source}{player\+\_\+position.\+cpp}.



References \hyperlink{player_8hpp_source_l00045}{position}, and \hyperlink{player__position_8cpp_source_l00080}{Player\+Position\+::\+Set\+Response\+Period()}.



Referenced by \hyperlink{main_8cpp_source_l00130}{playd\+::\+Run()}.


\begin{DoxyCode}
00022 \{
00023     this->\hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position}.\hyperlink{classPlayerPosition_aee2fec4f9cd5db48ee1ed79044c658ab}{SetResponsePeriod}(period);
00024 \}
\end{DoxyCode}
\hypertarget{classPlayer_a719de5af4d1534c2d805a19d5d995deb}{\index{Player@{Player}!Set\+Response\+Sink@{Set\+Response\+Sink}}
\index{Set\+Response\+Sink@{Set\+Response\+Sink}!Player@{Player}}
\subsubsection[{Set\+Response\+Sink}]{\setlength{\rightskip}{0pt plus 5cm}void Player\+::\+Set\+Response\+Sink (
\begin{DoxyParamCaption}
\item[{{\bf Response\+Sink} \&}]{sink}
\end{DoxyParamCaption}
)}}\label{classPlayer_a719de5af4d1534c2d805a19d5d995deb}


Registers a response sink with the \hyperlink{classPlayer}{Player}. 

The sink is sent information on position, file and state changes periodically, as well as being notified when a file ends. 
\begin{DoxyParams}{Parameters}
{\em sink} & The \hyperlink{classResponseSink}{Response\+Sink} to register with the \hyperlink{classPlayer}{Player}. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{player_8cpp_source_l00067}{67} of file \hyperlink{player_8cpp_source}{player.\+cpp}.



References \hyperlink{player_8hpp_source_l00052}{end\+\_\+sink}, \hyperlink{player_8hpp_source_l00044}{file}, \hyperlink{player_8hpp_source_l00045}{position}, \hyperlink{io__response_8cpp_source_l00042}{Response\+Source\+::\+Set\+Response\+Sink()}, and \hyperlink{player_8hpp_source_l00046}{state}.



Referenced by \hyperlink{main_8cpp_source_l00130}{playd\+::\+Run()}.


\begin{DoxyCode}
00068 \{
00069     this->\hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}.\hyperlink{classResponseSource_a12c45136716adffa59d5e5e1ca80b7ce}{SetResponseSink}(sink);
00070     this->\hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position}.\hyperlink{classResponseSource_a12c45136716adffa59d5e5e1ca80b7ce}{SetResponseSink}(sink);
00071     this->\hyperlink{classPlayer_afb60fdad921bce05783ef2709e849c27}{state}.\hyperlink{classResponseSource_a12c45136716adffa59d5e5e1ca80b7ce}{SetResponseSink}(sink);
00072     this->\hyperlink{classPlayer_aa6e6da38e67a266350452cfbc6d8341b}{end\_sink} = &sink;
00073 \}
\end{DoxyCode}
\hypertarget{classPlayer_a92807b30e89ece50e94dac493ee56b51}{\index{Player@{Player}!Set\+State@{Set\+State}}
\index{Set\+State@{Set\+State}!Player@{Player}}
\subsubsection[{Set\+State}]{\setlength{\rightskip}{0pt plus 5cm}void Player\+::\+Set\+State (
\begin{DoxyParamCaption}
\item[{{\bf Player\+State\+::\+State}}]{state}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classPlayer_a92807b30e89ece50e94dac493ee56b51}


Sets the current player state. 


\begin{DoxyParams}{Parameters}
{\em state} & The new state. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{player__state_8cpp_source_l00031}{31} of file \hyperlink{player__state_8cpp_source}{player\+\_\+state.\+cpp}.



Referenced by \hyperlink{player_8cpp_source_l00079}{Eject()}, \hyperlink{player_8cpp_source_l00089}{Load()}, \hyperlink{player_8cpp_source_l00116}{Play()}, \hyperlink{player_8cpp_source_l00126}{Quit()}, and \hyperlink{player_8cpp_source_l00159}{Stop()}.


\begin{DoxyCode}
00032 \{
00033     this->\hyperlink{classPlayer_afb60fdad921bce05783ef2709e849c27}{state}.\hyperlink{classPlayerState_a822999cf7d4cf72ba77f218906bb8aaa}{Set}(\hyperlink{classPlayer_afb60fdad921bce05783ef2709e849c27}{state});
00034 \}
\end{DoxyCode}
\hypertarget{classPlayer_abe074115b0ffa631ea432a1b84171599}{\index{Player@{Player}!Stop@{Stop}}
\index{Stop@{Stop}!Player@{Player}}
\subsubsection[{Stop}]{\setlength{\rightskip}{0pt plus 5cm}bool Player\+::\+Stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classPlayer_abe074115b0ffa631ea432a1b84171599}


Stops the currently playing track, if any. 

This behaves like a pause in other audio players\+: to reset the track to its start, issue a seek command afterwards. \begin{DoxyReturn}{Returns}
Whether the stop succeeded. 
\end{DoxyReturn}


Definition at line \hyperlink{player_8cpp_source_l00159}{159} of file \hyperlink{player_8cpp_source}{player.\+cpp}.



References \hyperlink{player__state_8hpp_source_l00044}{Player\+State\+::\+A\+U\+D\+I\+O\+\_\+\+P\+L\+A\+Y\+I\+N\+G\+\_\+\+S\+T\+A\+T\+E\+S}, \hyperlink{player__state_8cpp_source_l00021}{Current\+State\+In()}, \hyperlink{player_8hpp_source_l00044}{file}, \hyperlink{player__state_8cpp_source_l00031}{Set\+State()}, \hyperlink{player__file_8cpp_source_l00050}{Player\+File\+::\+Stop()}, and \hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a09d4d696b4e935115b9313e3c412509a}{Player\+State\+::\+S\+T\+O\+P\+P\+E\+D}.



Referenced by \hyperlink{player_8cpp_source_l00045}{Playback\+Update()}, and \hyperlink{cmd_8cpp_source_l00032}{Command\+Handler\+::\+Run\+Nullary()}.


\begin{DoxyCode}
00160 \{
00161     \textcolor{keywordflow}{if} (\hyperlink{classPlayer_aa56e60cd7b83a4aa7ebda1e6ec054f4d}{CurrentStateIn}(\hyperlink{classPlayerState_aa5e7203a1fa44e8bceffe65b6ad2c554}{PlayerState::AUDIO\_PLAYING\_STATES})) \{
00162         this->\hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}.\hyperlink{classPlayerFile_afd4313009b5d51df0df5dc7b59ffcf13}{Stop}();
00163         \hyperlink{classPlayer_a92807b30e89ece50e94dac493ee56b51}{SetState}(\hyperlink{classPlayerState_ab013f68ff23d69d677faae624b5dff07a09d4d696b4e935115b9313e3c412509a}{PlayerState::State::STOPPED});
00164         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00165     \}
00166     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00167 \}
\end{DoxyCode}
\hypertarget{classPlayer_a91f887a024035be5030aa4b3384705fa}{\index{Player@{Player}!Update@{Update}}
\index{Update@{Update}!Player@{Player}}
\subsubsection[{Update}]{\setlength{\rightskip}{0pt plus 5cm}bool Player\+::\+Update (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classPlayer_a91f887a024035be5030aa4b3384705fa}


Instructs the \hyperlink{classPlayer}{Player} to perform a cycle of work. 

This includes decoding the next frame and responding to commands. \begin{DoxyReturn}{Returns}
Whether the player has more cycles of work to do. 
\end{DoxyReturn}


Definition at line \hyperlink{player_8cpp_source_l00034}{34} of file \hyperlink{player_8cpp_source}{player.\+cpp}.



References \hyperlink{player__state_8hpp_source_l00047}{Player\+State\+::\+A\+U\+D\+I\+O\+\_\+\+L\+O\+A\+D\+E\+D\+\_\+\+S\+T\+A\+T\+E\+S}, \hyperlink{player__state_8hpp_source_l00044}{Player\+State\+::\+A\+U\+D\+I\+O\+\_\+\+P\+L\+A\+Y\+I\+N\+G\+\_\+\+S\+T\+A\+T\+E\+S}, \hyperlink{player__state_8cpp_source_l00021}{Current\+State\+In()}, \hyperlink{player_8hpp_source_l00044}{file}, \hyperlink{player__state_8cpp_source_l00026}{Is\+Running()}, \hyperlink{player_8cpp_source_l00045}{Playback\+Update()}, and \hyperlink{player__file_8cpp_source_l00062}{Player\+File\+::\+Update()}.



Referenced by \hyperlink{io__reactor_8cpp_source_l00101}{Uv\+Update\+Timer\+Callback()}.


\begin{DoxyCode}
00035 \{
00036     \textcolor{keywordflow}{if} (\hyperlink{classPlayer_aa56e60cd7b83a4aa7ebda1e6ec054f4d}{CurrentStateIn}(\hyperlink{classPlayerState_aa5e7203a1fa44e8bceffe65b6ad2c554}{PlayerState::AUDIO\_PLAYING\_STATES})) \{
00037         \hyperlink{classPlayer_affe746dc330ee92b64e2093c84858625}{PlaybackUpdate}();
00038     \}
00039     \textcolor{keywordflow}{if} (\hyperlink{classPlayer_aa56e60cd7b83a4aa7ebda1e6ec054f4d}{CurrentStateIn}(\hyperlink{classPlayerState_a850bf90685a377001cfc46808cf017a4}{PlayerState::AUDIO\_LOADED\_STATES})) \{
00040         this->\hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}.\hyperlink{classPlayerFile_afe0b43a6980e548a6faa87f84d22d65b}{Update}();
00041     \}
00042     \textcolor{keywordflow}{return} \hyperlink{classPlayer_a0688e00b9fa4699dbe15c370b2703a68}{IsRunning}();
00043 \}
\end{DoxyCode}
\hypertarget{classPlayer_aa055a70690c66e3fd9949358fccadd5c}{\index{Player@{Player}!Update\+Position@{Update\+Position}}
\index{Update\+Position@{Update\+Position}!Player@{Player}}
\subsubsection[{Update\+Position}]{\setlength{\rightskip}{0pt plus 5cm}void Player\+::\+Update\+Position (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classPlayer_aa055a70690c66e3fd9949358fccadd5c}


Updates the player position to reflect changes in the audio system. 

Call this whenever the audio position has changed. \begin{DoxySeeAlso}{See also}
\hyperlink{classPlayer_a66e226836bf4d6cd206716caeb232094}{Reset\+Position} 
\end{DoxySeeAlso}


Definition at line \hyperlink{player__position_8cpp_source_l00026}{26} of file \hyperlink{player__position_8cpp_source}{player\+\_\+position.\+cpp}.



References \hyperlink{player__file_8hpp_source_l00071}{Player\+File\+::\+Current\+Position()}, \hyperlink{player_8hpp_source_l00044}{file}, \hyperlink{player_8hpp_source_l00045}{position}, and \hyperlink{player__position_8cpp_source_l00049}{Player\+Position\+::\+Update()}.



Referenced by \hyperlink{player_8cpp_source_l00045}{Playback\+Update()}, and \hyperlink{player_8cpp_source_l00134}{Seek()}.


\begin{DoxyCode}
00027 \{
00028     \textcolor{keyword}{auto} pos = this->\hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}.\hyperlink{classPlayerFile_a072d9788c1449e0e2de3e28b169f2c34}{CurrentPosition}<
      \hyperlink{classPlayerPosition_a535c99057ceca21d8fbe82883c592a66}{PlayerPosition::Unit}>();
00029     this->\hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position}.\hyperlink{classPlayerPosition_ad39cab72590804238d2384391cb65745}{Update}(pos);
00030 \}
\end{DoxyCode}
\hypertarget{classPlayer_aac35c9a49758150d5c5e0ea2fcd94d16}{\index{Player@{Player}!Welcome\+Client@{Welcome\+Client}}
\index{Welcome\+Client@{Welcome\+Client}!Player@{Player}}
\subsubsection[{Welcome\+Client}]{\setlength{\rightskip}{0pt plus 5cm}void Player\+::\+Welcome\+Client (
\begin{DoxyParamCaption}
\item[{{\bf Response\+Sink} \&}]{client}
\end{DoxyParamCaption}
) const}}\label{classPlayer_aac35c9a49758150d5c5e0ea2fcd94d16}


Sends welcome/current status information to a new client. 


\begin{DoxyParams}{Parameters}
{\em client} & An I\+O \hyperlink{classResponseSink}{Response\+Sink} to which messages to the client should be sent. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{player_8cpp_source_l00058}{58} of file \hyperlink{player_8cpp_source}{player.\+cpp}.



References \hyperlink{player__file_8cpp_source_l00018}{Player\+File\+::\+Emit()}, \hyperlink{player__state_8cpp_source_l00052}{Player\+State\+::\+Emit()}, \hyperlink{player__position_8cpp_source_l00067}{Player\+Position\+::\+Emit()}, \hyperlink{io__response_8hpp_af5828b68a5f305a17b90321710d9b546ab1fa6b4767532c2e890022101221bd08}{F\+E\+A\+T\+U\+R\+E\+S}, \hyperlink{player_8hpp_source_l00044}{file}, \hyperlink{messages_8h_source_l00054}{M\+S\+G\+\_\+\+F\+E\+A\+T\+U\+R\+E\+S}, \hyperlink{messages_8h_source_l00048}{M\+S\+G\+\_\+\+O\+H\+A\+I}, \hyperlink{io__response_8hpp_af5828b68a5f305a17b90321710d9b546a578a88371503e8fd23725bd3a684ed9e}{O\+H\+A\+I}, \hyperlink{player_8hpp_source_l00045}{position}, \hyperlink{io__response_8cpp_source_l00025}{Response\+Sink\+::\+Respond()}, and \hyperlink{player_8hpp_source_l00046}{state}.



Referenced by \hyperlink{io__reactor_8cpp_source_l00114}{Io\+Reactor\+::\+New\+Connection()}.


\begin{DoxyCode}
00059 \{
00060     client.\hyperlink{classResponseSink_ac2add6144c2804a6f0db34ad30046ed7}{Respond}(\hyperlink{io__response_8hpp_af5828b68a5f305a17b90321710d9b546a578a88371503e8fd23725bd3a684ed9e}{ResponseCode::OHAI}, \hyperlink{messages_8h_a58fd26477b5defa3dbdde5efbe862c21}{MSG\_OHAI});
00061     client.\hyperlink{classResponseSink_ac2add6144c2804a6f0db34ad30046ed7}{Respond}(\hyperlink{io__response_8hpp_af5828b68a5f305a17b90321710d9b546ab1fa6b4767532c2e890022101221bd08}{ResponseCode::FEATURES}, 
      \hyperlink{messages_8h_a29759ce3d7805e029d83ab11195e6bf9}{MSG\_FEATURES});
00062     this->\hyperlink{classPlayer_abcb788a7830c40ae5ba2a219c5341a58}{file}.\hyperlink{classPlayerFile_a00f044c74d07d778532953a917c24197}{Emit}(client);
00063     this->\hyperlink{classPlayer_a7b0a4ce9f2ebf3d1e026cf3e0ee61152}{position}.\hyperlink{classPlayerPosition_a66963c28fd9dffe0fd7338023310fa92}{Emit}(client);
00064     this->\hyperlink{classPlayer_afb60fdad921bce05783ef2709e849c27}{state}.\hyperlink{classPlayerState_aa93a9879688bfbd3d89ac102c079cbfd}{Emit}(client);
00065 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/player/\hyperlink{player_8hpp}{player.\+hpp}\item 
src/player/\hyperlink{player_8cpp}{player.\+cpp}\item 
src/player/\hyperlink{player__position_8cpp}{player\+\_\+position.\+cpp}\item 
src/player/\hyperlink{player__state_8cpp}{player\+\_\+state.\+cpp}\end{DoxyCompactItemize}
