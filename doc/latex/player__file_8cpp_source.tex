\hypertarget{player__file_8cpp_source}{\section{player\+\_\+file.\+cpp}
\label{player__file_8cpp_source}\index{src/player/player\+\_\+file.\+cpp@{src/player/player\+\_\+file.\+cpp}}
}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of playd.}
00002 \textcolor{comment}{// playd is licenced under the MIT license: see LICENSE.txt.}
00003 
00010 \textcolor{preprocessor}{#include "../io/io\_response.hpp"}
00011 \textcolor{preprocessor}{#include "\hyperlink{player__file_8hpp}{player\_file.hpp}"}
00012 
\hypertarget{player__file_8cpp_source_l00013}{}\hyperlink{classPlayerFile_a655a5bf6903cad650c0dc4e33a7e41a5}{00013} \hyperlink{classPlayerFile_a655a5bf6903cad650c0dc4e33a7e41a5}{PlayerFile::PlayerFile}(\textcolor{keyword}{const} \hyperlink{classAudioSystem}{AudioSystem} &audio\_system)
00014     : audio(nullptr), audio\_system(audio\_system)
00015 \{
00016 \}
00017 
\hypertarget{player__file_8cpp_source_l00018}{}\hyperlink{classPlayerFile_a00f044c74d07d778532953a917c24197}{00018} \textcolor{keywordtype}{void} \hyperlink{classPlayerFile_a00f044c74d07d778532953a917c24197}{PlayerFile::Emit}(\hyperlink{classResponseSink}{ResponseSink} &sink)\textcolor{keyword}{ const}
00019 \textcolor{keyword}{}\{
00020     \textcolor{keywordflow}{if} (this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio} != \textcolor{keyword}{nullptr}) \{
00021         sink.\hyperlink{classResponseSink_ac2add6144c2804a6f0db34ad30046ed7}{Respond}(\hyperlink{io__response_8hpp_af5828b68a5f305a17b90321710d9b546a9fc5887c030f7a3e19821ebec457e719}{ResponseCode::FILE}, this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio}->Path());
00022     \}
00023 \}
00024 
\hypertarget{player__file_8cpp_source_l00025}{}\hyperlink{classPlayerFile_a92dd004d4ab034bf41f7d5c76847d3c2}{00025} \textcolor{keywordtype}{void} \hyperlink{classPlayerFile_a92dd004d4ab034bf41f7d5c76847d3c2}{PlayerFile::Load}(\textcolor{keyword}{const} std::string &path)
00026 \{
00027     \textcolor{keywordflow}{if} (this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio} != \textcolor{keyword}{nullptr}) \{
00028         \hyperlink{classPlayerFile_a394b2e7b4f4d0baee4ff1928a36e9945}{Eject}();
00029     \}
00030     this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio} = decltype(this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio})(this->\hyperlink{classPlayerFile_a8de47bcb924e2c3e10b208a09eb3f05b}{audio\_system}.
      \hyperlink{classAudioSystem_a2172608177d2bd54377bfc3c61cd117d}{Load}(path));
00031 \}
00032 
\hypertarget{player__file_8cpp_source_l00033}{}\hyperlink{classPlayerFile_a394b2e7b4f4d0baee4ff1928a36e9945}{00033} \textcolor{keywordtype}{void} \hyperlink{classPlayerFile_a394b2e7b4f4d0baee4ff1928a36e9945}{PlayerFile::Eject}()
00034 \{
00035     \textcolor{comment}{// Don't bother actually ejecting if there isn't anything to eject.}
00036     \textcolor{keywordflow}{if} (this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio} == \textcolor{keyword}{nullptr}) \{
00037         \textcolor{keywordflow}{return};
00038     \}
00039 
00040     this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio}->Stop();
00041     this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio} = \textcolor{keyword}{nullptr};
00042 \}
00043 
\hypertarget{player__file_8cpp_source_l00044}{}\hyperlink{classPlayerFile_a426f8ad29efd5e16ac7963354087d070}{00044} \textcolor{keywordtype}{void} \hyperlink{classPlayerFile_a426f8ad29efd5e16ac7963354087d070}{PlayerFile::Start}()
00045 \{
00046     assert(this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio} != \textcolor{keyword}{nullptr});
00047     this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio}->Start();
00048 \}
00049 
\hypertarget{player__file_8cpp_source_l00050}{}\hyperlink{classPlayerFile_afd4313009b5d51df0df5dc7b59ffcf13}{00050} \textcolor{keywordtype}{void} \hyperlink{classPlayerFile_afd4313009b5d51df0df5dc7b59ffcf13}{PlayerFile::Stop}()
00051 \{
00052     assert(this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio} != \textcolor{keyword}{nullptr});
00053     this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio}->Stop();
00054 \}
00055 
\hypertarget{player__file_8cpp_source_l00056}{}\hyperlink{classPlayerFile_a43d903e65213d3a6b2c8b38924c83c5f}{00056} \textcolor{keywordtype}{bool} \hyperlink{classPlayerFile_a43d903e65213d3a6b2c8b38924c83c5f}{PlayerFile::IsStopped}()
00057 \{
00058     assert(this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio} != \textcolor{keyword}{nullptr});
00059     \textcolor{keywordflow}{return} this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio}->IsStopped();
00060 \}
00061 
\hypertarget{player__file_8cpp_source_l00062}{}\hyperlink{classPlayerFile_afe0b43a6980e548a6faa87f84d22d65b}{00062} \textcolor{keywordtype}{void} \hyperlink{classPlayerFile_afe0b43a6980e548a6faa87f84d22d65b}{PlayerFile::Update}()
00063 \{
00064     assert(this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio} != \textcolor{keyword}{nullptr});
00065     this->\hyperlink{classPlayerFile_a649de02845f72a9d326b5942596ecd6b}{audio}->Update();
00066 \}
\end{DoxyCode}
